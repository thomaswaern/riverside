"use strict";$(function(){$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var a=$(this.hash);
a=a.length?a:$("[name="+this.hash.slice(1)+"]");if(a.length){$("html,body").animate({scrollTop:a.offset().top},500);return false;}}});});var app;var App=function(d){var b={crackling:new Audio("/sounds/needle.ogg"),end:new Audio("/sounds/endloop.ogg")};
var a=[];var e;var c=0;var g=0;var f=0;return{getCurrentTrack:function(){return a[g];},setCurrentTrack:function(h){g=h;},setTracks:function(h){a=h;c=0;
a.forEach(function(i){c+=i.duration;});this.setLabel();},setLabel:function(){var i="",h=1;a.forEach(function(j){i+="<br>";i+=(h++)+". ";i+=j.title.substr(0,j.title.indexOf(" -"));
});d(".record").find(".title").html(i);},onPosition:function(){var h=f+e.position;this.setArmRotation(h/c);},setArmRotation:function(h){var i=((1-h)*(75-24));
d(".slider").val(i+24,true);},prepare:function(){d(".slider").noUiSlider({start:24,handles:1,range:{min:24,max:75}});d(".slider").change(function(h){console.log("change");
app.armMoving=false;app.setPosition(d(h.target).val(),24,75);});d(".slider").on({slide:function(){app.armMoving=true;console.log("moving");d(".arm").css("-webkit-animation","none");
d(".arm").css("-webkit-transform","rotate(-"+d(".slider").val()+"deg)");d(".slider").css("-webkit-transform","rotate(-"+d(".slider").val()/3+"deg)");},set:function(){console.log("set");
d(".arm").css("-webkit-transform","rotate(-"+d(".slider").val()+"deg)");}});d(".arm").css("-webkit-animation","wobblearm 4.3s infinite");d(".record").css("-webkit-animation","rotating 4.3s linear infinite");
this.playSoundEffect("end",true);},setPosition:function(l,k,n){var p=1-(l-k)/(n-k),h=c*p,j;var m=0,i=0,o=false;a.forEach(function(q){if(!o){m+=q.duration;
if(h<m){j=h-(m-q.duration);f=(m-q.duration);o=true;}else{i++;}}});if((e&&e.playState>0)&&(g===i)){e.setPosition(j);}else{g=i;this.playCurrentTrack(j);}},next:function(){f+=a[g].duration;
try{e.stop();}catch(h){}if(g>=(a.length-1)){}else{g++;this.playCurrentTrack(0);}},playCurrentTrack:function(h){try{e.stop();}catch(i){}if(this.getCurrentTrack()&&this.getCurrentTrack()!=="undefined"){SC.stream("/tracks/"+this.getCurrentTrack().id,{whileplaying:function(){if(!app.armMoving&&e.loaded){this.onPosition();
}}.bind(this),autoLoad:true},function(j){e=j;this.playSoundEffect("crackling",false);e.setVolume(0);e.play({onload:function(){e.setVolume(90);e.setPosition(h);
},onfinish:function(){app.next();}});}.bind(this));}},playSoundEffect:function(i,h){b[i].loop=h;b[i].play();},stopAllSounds:function(){for(var h in b){b[h].pause();
}try{e.stop();}catch(i){}},initSoundcloud:this.initSoundcloud};};app=new App(jQuery);SC.whenStreamingReady(function(){setTimeout(function(){SC.get("/playlists/2373914",function(a){app.setTracks(a.tracks);
app.prepare();}.bind(this));}.bind(this),2200);});